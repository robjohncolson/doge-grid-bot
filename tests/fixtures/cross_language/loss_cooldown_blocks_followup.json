{
  "name": "loss_cooldown_blocks_followup",
  "config": {
    "entry_pct": 0.2,
    "profit_pct": 1.0,
    "refresh_pct": 1.0,
    "order_size_usd": 2.0,
    "price_decimals": 6,
    "volume_decimals": 0,
    "min_volume": 13.0,
    "min_cost_usd": 0.0,
    "maker_fee_pct": 0.25,
    "s1_orphan_after_sec": 600.0,
    "s2_orphan_after_sec": 1800.0,
    "loss_backoff_start": 1,
    "loss_cooldown_start": 1,
    "loss_cooldown_sec": 900.0
  },
  "initial_state": {
    "market_price": 0.1,
    "now": 1000.0,
    "orders": [
      {
        "local_id": 1,
        "side": "sell",
        "role": "exit",
        "price": 0.1008,
        "volume": 13.0,
        "trade_id": "B",
        "cycle": 1,
        "txid": "TX-B-EXIT",
        "entry_price": 0.1008,
        "entry_fee": 0.01,
        "entry_filled_at": 900.0
      },
      {
        "local_id": 2,
        "side": "sell",
        "role": "entry",
        "price": 0.1002,
        "volume": 13.0,
        "trade_id": "A",
        "cycle": 1,
        "txid": "TX-A-ENTRY",
        "placed_at": 950.0
      }
    ],
    "cycle_a": 1,
    "cycle_b": 1,
    "next_order_id": 3,
    "next_recovery_id": 1,
    "total_profit": 0.0,
    "total_fees": 0.0,
    "today_realized_loss": 0.0,
    "total_round_trips": 0,
    "profit_pct_runtime": 1.0
  },
  "order_size_usd": 2.0,
  "order_sizes": null,
  "events": [
    {
      "type": "FillEvent",
      "payload": {
        "order_local_id": 1,
        "txid": "TX-B-EXIT",
        "side": "sell",
        "price": 0.099,
        "volume": 13.0,
        "fee": 0.01,
        "timestamp": 1000.0
      }
    }
  ],
  "expected": {
    "phase": "S0",
    "open_orders": 1,
    "recovery_orders": 0,
    "round_trips": 1,
    "completed_cycles": 1,
    "cycle_a": 1,
    "cycle_b": 2,
    "cooldown_until_b": 1900.0,
    "invariants": [
      "S0 must be exactly A sell entry + B buy entry"
    ]
  }
}

