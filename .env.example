# =============================================================================
# DOGE Grid Trading Bot — Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to git — it contains secrets!
# On Railway, set these in the dashboard under Variables.
# =============================================================================

# --- Kraken API credentials ---
# Create at: https://www.kraken.com/u/security/api
# Permissions: Query Funds, Create & Modify Orders, Cancel/Close Orders, Query Open Orders & Trades
KRAKEN_API_KEY=
KRAKEN_API_SECRET=

# --- AI Advisor API ---
# Default: NVIDIA build.nvidia.com (free tier, Kimi 2.5)
# Also supports Groq or any OpenAI-compatible endpoint.
AI_API_KEY=
# AI_API_URL=https://integrate.api.nvidia.com/v1/chat/completions
# AI_MODEL=moonshotai/kimi-k2.5

# --- Telegram notifications ---
# Bot token from @BotFather, chat ID from @userinfobot
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# --- Trading mode ---
# true = simulate trades with real prices (SAFE — start here!)
# false = LIVE trading with real money
DRY_RUN=true

# --- Capital and sizing ---
STARTING_CAPITAL=120
ORDER_SIZE_USD=5

# --- Grid parameters ---
GRID_LEVELS=4
GRID_SPACING_PCT=1.0

# --- Risk management ---
STOP_FLOOR=100
DAILY_LOSS_LIMIT=3
GRID_DRIFT_RESET_PCT=5.0

# --- Timing ---
POLL_INTERVAL_SECONDS=30
AI_ADVISOR_INTERVAL=3600

# --- HMM data pipeline (OHLCV persistence/readiness) ---
# Collect 5m OHLCV candles to support HMM training windows.
HMM_OHLCV_ENABLED=true
HMM_OHLCV_INTERVAL_MIN=5
HMM_OHLCV_SYNC_INTERVAL_SEC=300
HMM_OHLCV_RETENTION_DAYS=14
HMM_OHLCV_BACKFILL_ON_STARTUP=true
HMM_OHLCV_BACKFILL_MAX_PAGES=40
HMM_TRAINING_CANDLES=2000
HMM_RECENT_CANDLES=100
HMM_MIN_TRAIN_SAMPLES=500
HMM_READINESS_CACHE_SEC=300
HMM_ENABLED=false
HMM_N_STATES=3
HMM_N_ITER=100
HMM_COVARIANCE_TYPE=diag
HMM_INFERENCE_WINDOW=50
HMM_CONFIDENCE_THRESHOLD=0.15
HMM_RETRAIN_INTERVAL_SEC=86400
HMM_BIAS_GAIN=1.0
HMM_BLEND_WITH_TREND=0.5

# --- Manual scaling telemetry ---
# Pair-level open-order limit for capacity/runway calculations.
# Common Kraken tiers: Starter=60, Intermediate=80, Pro=225.
KRAKEN_OPEN_ORDERS_PER_PAIR_LIMIT=225
# Safety cap fraction used for "headroom" and runway warnings.
OPEN_ORDER_SAFETY_RATIO=0.75
# Base per-trade re-entry delay after cycle close/orphan.
REENTRY_BASE_COOLDOWN_SEC=60
# Global entry-placement velocity cap (new entry AddOrder calls per 30s loop).
MAX_ENTRY_ADDS_PER_LOOP=2
# Private API metronome (smooths bursts into paced waves).
PRIVATE_API_METRONOME_ENABLED=true
PRIVATE_API_METRONOME_WAVE_CALLS=2
PRIVATE_API_METRONOME_WAVE_SECONDS=1.5

# --- Logging ---
LOG_LEVEL=INFO
